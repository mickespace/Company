<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <title>入口</title>
    <script src="js/Mango.js"></script>
</head>

<body>
    <script>
        var _plugId;

        function install() {
            mgLog.Info(mgThis.AppInfo.Key);
            mgSlot.PushPlug({
                Name: "项目概况",
                SlotName: "ProjectInfoSlot",
                Data: {
                    Key: "projectInfo",
                    Page: mgThis.GetResPath("projectInfo.html"),
                },
                MenuItems: [{
                    Name: "效果图",
                    Icon: mgThis.GetResPath("Assets/effect.svg"),
                    Command: "EffectCommand"
                }, {
                    Name: "进度图",
                    Icon: mgThis.GetResPath("Assets/schedule.svg"),
                    Command: "ScheduleCommand"
                }],
                Order: 1,
            }, function (plugId) {
                _plugId = plugId;
            });
        }

        function uninstall() {
            mgSlot.PullPlug(_plugId);
        }

        function open() {
            mgNavi.Go("projectInfo.html");
            // mgService.Invoke('OpenProjectInfoPage', null, function (result) {
            //     if (!result.IsOk)
            //         alert(result.Message);
            // });
        }

        function EffectCommand() {
            mgNavi.Go("effect.html");
        }

        function ScheduleCommand() {
            mgNavi.Go("schedule.html");
        }
    </script>
</body>